// Generated by CoffeeScript 1.6.3
var SettingsController;

SettingsController = function($scope, $routeParams, $http) {
  $scope.routeParams = $routeParams;
  $scope.settings = window.settings;
  $scope.save = function() {
    return $http.get(window.settings.connection + "/0/zoorilla/").success(function() {
      window.settings = $scope.settings;
      localStorage.setItem('zoorilla_connection', $scope.settings.connection);
      return alert("Saved");
    }).error(function() {
      alert("No running Zoorilla server on '" + $scope.settings.connection + "'");
      return window.settings.connection = null;
    });
  };
  return $scope.reset = function() {
    if (confirm("Reset all settings?")) {
      window.settings = {};
      $scope.settings = {};
      localStorage.setItem('zoorilla_connection', "");
      return alert("Done");
    }
  };
};
